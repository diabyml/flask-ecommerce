{% extends "base.html" %} {% block content %}
<div class="container mx-auto">
  <header class="flex items-center justify-between">
    <h1 class="text-xl uppercase text-indigo-500 font-bold">Admin</h1>
    <div>
      <a
        href="/admin/add"
        class="inline-block bg-indigo-500 px-4 py-2 uppercase text-sm tracking-wide text-white rounded-full focus:outline:none focus:ring"
        >Add Product</a
      >
    </div>
  </header>

  <!-- list of products -->
  <ul>
    {% for p in products %}
    <li>
      <div>
        <a href="/admin/dashboard/{{p['id']}}">
          <div>
            <img
              src="{{ url_for('display_image', filename=p['unique_filename']) }}"
            />
            <p class="text-indigo-600">{{ p['name'] }}</p>
            <p>{{ p['price'] }}</p>
            <p>{{ p['timestamp'] }}</p>
          </div>
        </a>
        <button
          data-id="{{ p['id'] }}"
          class="admin-btn-delete bg-indigo-500 text-white uppercase text-sm tracking-wide py-2 px-4 rounded-full focus:outline-none focus:ring"
        >
          Delete
        </button>
        <!-- <form action="/admin/dashboard/delete/{{p['id']}}" method="post">
          <input type="submit" value="Temp Delete" />
        </form> -->
      </div>
    </li>
    {% endfor %}
  </ul>
</div>

<!-- delete product modal -->

<!-- container  -->
<div class="w-full h-full fixed left-0 top-0 z-9999 p-4 hidden modal-container">
  <!-- backdrop -->

  <!-- container overlay -->
  <div
    class="w-full h-full fixed left-0 top-0 -z-10 bg-overlay modal-overlay"
  ></div>

  <!-- main content -->
  <div
    class="bg-white absolute left-4 right-4 top-1/4 max-w-md mx-auto rounded-md border"
  >
    <!-- Header -->
    <div class="flex justify-between border-b py-2 px-4">
      <!-- Title -->
      <h1>Effacer</h1>
      <!-- Close icon sticks to the right -->
      <button class="admin-close-modal">close</button>
    </div>

    <!-- Content -->
    <div class="px-4 py-5">Voulez-vous vraiment effacer ce produit ?</div>

    <!-- Footer -->
    <div class="flex justify-end border-t py-2 px-4 space-x-4">
      <button class="admin-cancel-delete-product">Annuler</button>
      <button class="admin-btn-delete-product">Effacer</button>
    </div>
  </div>
</div>

{% endblock %}
